<?xml version="1.0" encoding="UTF-8"?>
<mxfile>
  <diagram name="ER-Diagram">
    <mxGraphModel>
      <root>
        <!-- Strong Entities -->
        <mxCell id="Playlist" value="Playlist" style="ellipse;whiteSpace=wrap;strokeWidth=2;fillColor=#FFFFFF;" vertex="1">
          <mxGeometry x="100" y="100" width="120" height="60"/>
        </mxCell>
        
        <mxCell id="Song" value="Song" style="ellipse;whiteSpace=wrap;strokeWidth=2;fillColor=#FFFFFF;" vertex="1">
          <mxGeometry x="400" y="100" width="120" height="60"/>
        </mxCell>

        <!-- Weak Entity -->
        <mxCell id="Node" value="Node" style="doubleEllipse;whiteSpace=wrap;strokeWidth=2;fillColor=#FFFFFF;" vertex="1">
          <mxGeometry x="250" y="300" width="120" height="60"/>
        </mxCell>

        <!-- Relationships -->
        <mxCell id="rel1" value="contains" style="endArrow=block;startArrow=diamond;strokeWidth=2;" edge="1" source="Playlist" target="Node">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="rel2" value="references" style="endArrow=block;strokeWidth=2;" edge="1" source="Node" target="Song">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- Attributes -->
        <mxCell id="attr1" value="PlaylistID (PK)" style="shape=partialRectangle;connectable=0;fillColor=#FFF2CC;strokeColor=#000000;" vertex="1">
          <mxGeometry x="80" y="180" width="100" height="30"/>
        </mxCell>

        <mxCell id="attr2" value="[Derived]\nSongCount" style="shape=partialRectangle;connectable=0;fillColor=#FFF2CC;strokeColor=#000000;dashed=1;" vertex="1">
          <mxGeometry x="80" y="220" width="100" height="30"/>
        </mxCell>

        <mxCell id="attr3" value="NodeID (PPK)" style="shape=partialRectangle;connectable=0;fillColor=#FFF2CC;strokeColor=#000000;" vertex="1">
          <mxGeometry x="220" y="370" width="100" height="30"/>
        </mxCell>

        <mxCell id="attr4" value="Position" style="shape=partialRectangle;connectable=0;fillColor=#FFF2CC;strokeColor=#000000;" vertex="1">
          <mxGeometry x="220" y="400" width="100" height="30"/>
        </mxCell>

        <mxCell id="attr5" value="SongID (PK)" style="shape=partialRectangle;connectable=0;fillColor=#FFF2CC;strokeColor=#000000;" vertex="1">
          <mxGeometry x="380" y="180" width="100" height="30"/>
        </mxCell>

        <!-- Connecting attributes to entities -->
        <mxCell id="conn1" style="edgeStyle=none;endArrow=none;" edge="1" source="attr1" target="Playlist"/>
        <mxCell id="conn2" style="edgeStyle=none;endArrow=none;" edge="1" source="attr2" target="Playlist"/>
        <mxCell id="conn3" style="edgeStyle=none;endArrow=none;" edge="1" source="attr3" target="Node"/>
        <mxCell id="conn4" style="edgeStyle=none;endArrow=none;" edge="1" source="attr4" target="Node"/>
        <mxCell id="conn5" style="edgeStyle=none;endArrow=none;" edge="1" source="attr5" target="Song"/>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
